<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mini ToDo Manager</title>
  <style>
    :root {
      --bg: #f8f9fa;
      --card: #ffffff;
      --text: #212529;
      --gray: #adb5bd;
      --done: #28a745;
      --border: #dee2e6;
      --primary: #007bff;
      --high: #e74c3c;
      --medium: #f39c12;
      --low: #95a5a6;
    }
    body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; display: flex; flex-direction: column; }
    header { background: white; padding: 1rem; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 10; }
    .header-content { max-width: 600px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
    h1 { margin: 0; font-size: 1.5rem; font-weight: 600; }
    .add-btn { background: var(--primary); color: white; border: none; width: 44px; height: 44px; border-radius: 50%; font-size: 28px; cursor: pointer; display: flex; align-items: center; justify-content: center; }

    main { flex: 1; max-width: 600px; margin: 20px auto; padding: 0 16px; }
    .tabs { display: flex; gap: 8px; margin-bottom: 20px; border-bottom: 1px solid var(--border); padding-bottom: 8px; }
    .tab { padding: 8px 16px; background: none; border: none; font-size: 14px; color: var(--gray); cursor: pointer; }
    .tab.active { background: white; color: var(--text); font-weight: 600; border: 1px solid var(--border); border-bottom: none; }

    .task-list { list-style: none; padding: 0; margin: 0; }
    .task-item { background: var(--card); padding: 16px; border-radius: 12px; margin-bottom: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 12px; }
    .task-item.done { opacity: 0.7; text-decoration: line-through; color: var(--gray); }
    .checkbox { width: 24px; height: 24px; border: 2px solid var(--gray); border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
    .checkbox.checked { background: var(--done); border-color: var(--done); color: white; }
    .checkbox.checked::after { content: "✓"; font-size: 16px; font-weight: bold; }
    .task-text { flex: 1; font-size: 16px; }
    .category { font-size: 12px; color: var(--gray); margin-top: 4px; }
    .priority { font-weight: 600; font-size: 11px; }

    .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: white; border-top: 1px solid var(--border); display: flex; justify-content: space-around; padding: 12px 0; }
    .nav-item { color: var(--gray); font-size: 24px; background: none; border: none; cursor: pointer; }
    .nav-item.active { color: var(--primary); }

    .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: none; align-items: center; justify-content: center; z-index: 100; }
    .modal.open { display: flex; }
    .modal-content { background: white; padding: 24px; border-radius: 16px; width: 90%; max-width: 500px; }
    input, select { width: 100%; padding: 14px; font-size: 16px; border: 1px solid var(--border); border-radius: 12px; margin-bottom: 16px; box-sizing: border-box; }
    button.primary { background: var(--primary); color: white; border: none; padding: 14px; border-radius: 12px; font-size: 16px; cursor: pointer; width: 100%; }
  </style>
</head>
<body>

  <header>
    <div class="header-content">
      <h1>Mini ToDo Manager</h1>
      <button class="add-btn" id="openModal">+</button>
    </div>
  </header>

  <main>
    <div class="tabs">
      <button class="tab active" data-filter="all">Категорії</button>
      <button class="tab" data-filter="date">Дати виконання</button>
      <button class="tab" data-filter="priority">Пріоритет</button>
    </div>

    <ul class="task-list" id="taskList"></ul>
  </main>

  <nav class="bottom-nav">
    <button class="nav-item">Home</button>
    <button class="nav-item active">Tasks</button>
    <button class="nav-item">Menu</button>
  </nav>

  <!-- Модалка: термін + пріоритет -->
  <div class="modal" id="addModal">
    <div class="modal-content">
      <h2>Нове завдання</h2>
      <input type="text" id="newTaskInput" placeholder="Що потрібно зробити?" />

      <select id="taskDeadline">
        <option value="Сьогодні">Сьогодні</option>
        <option value="Завтра">Завтра</option>
        <option value="Цей тиждень">Цей тиждень</option>
        <option value="Пізніше">Пізніше</option>
      </select>

      <select id="taskPriority">
        <option value="Високий">Високий (червоний)</option>
        <option value="Середній">Середній (помаранчевий)</option>
        <option value="Низький" selected>Низький (сірий)</option>
      </select>

      <button class="primary" id="saveTask">Додати завдання</button>
    </div>
  </div>

  <script>
    const modal = document.getElementById('addModal');
    const openModalBtn = document.getElementById('openModal');
    const taskList = document.getElementById('taskList');
    const tabs = document.querySelectorAll('.tab');
    let currentFilter = 'all';

    let tasks = [
      { text: "Математичне задання", deadline: "Сьогодні", priority: "Високий", done: false },
      { text: "Прочитати розділ 5", deadline: "Сьогодні", priority: "Середній", done: false },
      { text: "Підготовка до тесту з філософії", deadline: "Пізніше", priority: "Високий", done: true },
      { text: "Купити продукти", deadline: "Сьогодні", priority: "Низький", done: false },
      { text: "Оплата навчання", deadline: "Пізніше", priority: "Високий", done: false },
      { text: "Запис у журналі", deadline: "Пізніше", priority: "Середній", done: false }
    ];

    function render() {
      taskList.innerHTML = '';
      const filtered = tasks.filter(task => {
        if (currentFilter === 'all') return true;
        if (currentFilter === 'date') return true; // можна розширити
        if (currentFilter === 'priority') return true;
        return true;
      });

      filtered.forEach(task => {
        const priorityColor = task.priority === 'Високий' ? 'var(--high)' :
                              task.priority === 'Середній' ? 'var(--medium)' : 'var(--low)';

        const li = document.createElement('li');
        li.className = `task-item ${task.done ? 'done' : ''}`;
        li.innerHTML = `
          <div class="checkbox ${task.done ? 'checked' : ''}"></div>
          <div class="task-text">
            ${task.text}
            <div class="category">
              ${task.deadline} 
              <span class="priority" style="color: ${priorityColor}">• ${task.priority}</span>
            </div>
          </div>
        `;
        li.querySelector('.checkbox').onclick = () => {
          task.done = !task.done;
          render();
        };
        taskList.appendChild(li);
      });
    }

    openModalBtn.onclick = () => {
      modal.classList.add('open');
      document.getElementById('newTaskInput').focus();
    };

    modal.onclick = e => { if (e.target === modal) modal.classList.remove('open'); };

    document.getElementById('saveTask').onclick = () => {
      const text = document.getElementById('newTaskInput').value.trim();
      if (!text) return;
      const deadline = document.getElementById('taskDeadline').value;
      const priority = document.getElementById('taskPriority').value;

      tasks.unshift({ text, deadline, priority, done: false });
      render();
      document.getElementById('newTaskInput').value = '';
      modal.classList.remove('open');
    };

    tabs.forEach(tab => {
      tab.onclick = () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        currentFilter = tab.dataset.filter;
        render();
      };
    });

    render();
  </script>
</body>
</html>
